(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"/8Fb":function(t,e,n){var a=n("XKFU"),i=n("UExd")(!0);a(a.S,"Object",{entries:function(t){return i(t)}})},"1bYX":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"indices-root"},[n("table",{staticStyle:{width:"100%"}},[t._m(0),n("tbody",[n("tr",[n("td",[t._v(t._s(t.statsIndicesCountText))]),n("td",[t._v(t._s(t.shardCountText)+"/"+t._s(t.shardTotalCountText))]),n("td",[t._v(t._s(t.totalDocCountText))]),n("td",[t._v(t._s(t.totalHumanSize))])])])]),t.statsIndices.length?n("DebounceTextField",{attrs:{debounce:"1000",label:"Indices filter"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),n("v-data-table",{attrs:{headers:t.statsIndicesHeaders,items:t.statsIndices,loading:t.loading,search:t.search,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("tr",{key:e.item.index,class:{deleting:e.item.deleting}},[n("td",{staticStyle:{"text-align":"left"}},[n("span",[t._v(t._s(e.item.index))]),n("v-btn",{attrs:{icon:""},nativeOn:{click:function(n){t.deleteIndex(e.item)}}},[n("v-icon",[t._v("close")])],1)],1),n("td",[t._v(t._s(e.item.docsText))]),n("td",[t._v(t._s(e.item.humanSize))]),n("td",[t._v(t._s(e.item.shards))]),n("td",[t._v(t._s(e.item.replicas))])])]}}])}),n("Dimmer",{staticStyle:{"z-index":"1"},attrs:{loading:t.loading,text:"Loading ..."}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Indices")]),n("th",[t._v("Shards")]),n("th",[t._v("Docs")]),n("th",[t._v("Size")])])])}],r=(n("f3/d"),n("/8Fb"),n("k5N+")),s=(n("rGqo"),n("xmWZ")),o=n("3Aqn"),c=n("qpph"),l=n("0yhX"),u=n("EdlT"),d=(n("yt8O"),n("VRzm"),n("mrSG")),h=n("/yAk"),f="SI",m={IEC:["bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],SI:["bytes","kB","MB","GB","TB","PB","EB","ZB","YB"]};function v(t){if(t<=0)return"0";var e=m[f],n=Math.min(Math.floor(Math.log(t)/Math.log(1024)),e.length-1);return(t/Math.pow(1024,Math.floor(n))).toFixed(n>0?2:0)+" "+e[n]}var x=n("QL/d"),b=n("YKMj"),S=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.loading=!1,t.statsIndicesHeaders=[{text:"Index",value:"index"},{text:"Docs",value:"docs"},{text:"Primary Size",value:"size"},{text:"Shards",value:"shards"},{text:"Replicas",value:"replicas"}],t.statsIndices=[],t.statsIndicesCountText="0",t.shardCountText="0",t.shardTotalCountText="0",t.totalDocCountText="0",t.totalHumanSize="0",t.search="",t}return Object(c["a"])(e,[{key:"reloadStatsIndices",value:function(){var t=this;return this.loading=!0,Promise.all([h["a"].stats(),h["a"].clusterState()]).then(function(e){var n=Object(r["a"])(e,2),a=n[0],i=n[1];t.shardCountText=Intl.NumberFormat().format(a.data._shards.successful),t.shardTotalCountText=Intl.NumberFormat().format(a.data._shards.total),t.totalDocCountText=Intl.NumberFormat().format(a.data._all.total.docs.count),t.totalHumanSize=v(a.data._all.total.store.size_in_bytes),t.statsIndices=[];for(var s=Object.entries(a.data.indices),o=0;o<s.length;o++){var c=Object(r["a"])(s[o],2),l=c[0],u=c[1],d={};d.index=l,d.docs=u.total.docs.count,d.docsText=Intl.NumberFormat().format(d.docs),d.size=u.primaries.store.size_in_bytes,d.humanSize=v(d.size),d.shards=i.data.metadata.indices[l].settings.index.number_of_shards,d.replicas=i.data.metadata.indices[l].settings.index.number_of_replicas,d.deleting=!1,t.statsIndices.push(d)}t.statsIndicesCountText=Intl.NumberFormat().format(t.statsIndices.length)}).then(function(){t.loading=!1})}},{key:"deleteIndex",value:function(t){var e=this;return t.deleting=!0,h["a"].deleteIndex(t.index).then(function(){e.statsIndices=e.statsIndices.filter(function(e){return e.index!==t.index})})}},{key:"mounted",value:function(){Object(x["a"])().url&&this.reloadStatsIndices()}}]),Object(o["a"])(e,t),e}(b["d"]);S=d["a"]([Object(b["a"])({components:{DebounceTextField:function(){return n.e(7).then(n.bind(null,"prZc"))},Dimmer:function(){return n.e(8).then(n.bind(null,"2RLG"))}}})],S);var _=S,p=_,y=(n("lg6B"),n("KHd+")),T=Object(y["a"])(p,a,i,!1,null,"3df03725",null);e["default"]=T.exports},"QL/d":function(t,e,n){"use strict";n.d(e,"a",function(){return a});n("pIFo");function a(){var t=(location.hash||"").replace(/^#/,"");if(t)try{var e=JSON.parse(decodeURIComponent(t));return e||{}}catch(e){try{var n=JSON.parse(t);return n||{}}catch(t){return{}}}return{}}},UCpe:function(t,e,n){},UExd:function(t,e,n){var a=n("DVgA"),i=n("aCFj"),r=n("UqcF").f;t.exports=function(t){return function(e){var n,s=i(e),o=a(s),c=o.length,l=0,u=[];while(c>l)r.call(s,n=o[l++])&&u.push(t?[n,s[n]]:s[n]);return u}}},UqcF:function(t,e){e.f={}.propertyIsEnumerable},"k5N+":function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}function i(t,e){var n=[],a=!0,i=!1,r=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done);a=!0)if(n.push(s.value),e&&n.length===e)break}catch(t){i=!0,r=t}finally{try{a||null==o["return"]||o["return"]()}finally{if(i)throw r}}return n}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t,e){return a(t)||i(t,e)||r()}n.d(e,"a",function(){return s})},lg6B:function(t,e,n){"use strict";var a=n("UCpe"),i=n.n(a);i.a},rGqo:function(t,e,n){for(var a=n("yt8O"),i=n("DVgA"),r=n("KroJ"),s=n("dyZX"),o=n("Mukb"),c=n("hPIQ"),l=n("K0xU"),u=l("iterator"),d=l("toStringTag"),h=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(f),v=0;v<m.length;v++){var x,b=m[v],S=f[b],_=s[b],p=_&&_.prototype;if(p&&(p[u]||o(p,u,h),p[d]||o(p,d,b),c[b]=h,S))for(x in a)p[x]||r(p,x,a[x],!0)}}}]);
//# sourceMappingURL=Indices.8376fd27.js.map